(this.webpackJsonpcart=this.webpackJsonpcart||[]).push([[0],{26:function(e,t,c){},48:function(e,t,c){"use strict";c.r(t);var a=c(2),n=c.n(a),r=c(17),s=c.n(r),i=(c(26),c(20)),o=c(7),l=c.n(o),j=c(18),u=c(21),d=c(3),O=c(19),b=c.n(O),m=c(1),p=n.a.createContext(),h={loading:!0,cart:[],total:0,amount:0},x=function(e){var t=e.children,c=Object(a.useReducer)((function(e,t){switch(t.type){case"CLEAR__CART":return Object(d.a)(Object(d.a)({},e),{},{cart:[]});case"REMOVE__ITEM":var c=e.cart.filter((function(e){return e.id!==t.payload}));return Object(d.a)(Object(d.a)({},e),{},{cart:c});case"TOTAL__AMOUNT":var a=e.cart.reduce((function(e,t){var c=t.price,a=t.amount;return e.amount+=a,e.total+=c*a,e}),{total:0,amount:0}),n=a.total,r=a.amount;return n=parseFloat(n.toFixed(2)),Object(d.a)(Object(d.a)({},e),{},{total:n,amount:r});case"SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{cart:t.payload,loading:!1});case"TOGGLE__AMOUNT":var s=e.cart.map((function(e){return t.payload.id===e.id?"INC__AMOUNT"===t.payload.type?Object(d.a)(Object(d.a)({},e),{},{amount:e.amount+1}):Object(d.a)(Object(d.a)({},e),{},{amount:e.amount-1}):e})).filter((function(e){return 0!==e.amount}));return Object(d.a)(Object(d.a)({},e),{},{cart:s});default:return e}}),h),n=Object(u.a)(c,2),r=n[0],s=n[1];Object(a.useEffect)((function(){var e=function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://course-api.com/react-useReducer-cart-project",e.prev=1,e.next=4,b.a.get("https://course-api.com/react-useReducer-cart-project");case 4:t=e.sent,s({type:"SUCCESS",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"ERROR"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){s({type:"TOTAL__AMOUNT"})}),[r.cart]);return Object(m.jsx)(p.Provider,{value:Object(d.a)(Object(d.a)({},r),{},{clearCart:function(){s({type:"CLEAR__CART"})},removeItem:function(e){s({type:"REMOVE__ITEM",payload:e})},toggleAmount:function(e,t){s({type:"TOGGLE__AMOUNT",payload:{id:e,type:t}})}}),children:t})},_=function(){return Object(a.useContext)(p)},v=function(){var e=_().amount;return Object(m.jsx)("nav",{children:Object(m.jsxs)("div",{className:"nav",children:[Object(m.jsx)("div",{className:"nav__logo",children:Object(m.jsx)("h3",{className:"logo",children:"useReducer"})}),Object(m.jsxs)("div",{className:"nav__icon",children:[Object(m.jsx)(i.a,{}),Object(m.jsx)("p",{className:"nav__icon--amount",children:e})]})]})})},f=c(8),N=function(e){var t=e.id,c=e.title,a=e.price,n=e.img,r=e.amount,s=(e.i,_()),i=s.removeItem,o=s.toggleAmount;return Object(m.jsxs)("div",{className:"item",children:[Object(m.jsxs)("div",{className:"item__info",children:[Object(m.jsx)("div",{className:"item__info--img",children:Object(m.jsx)("img",{src:n,alt:""})}),Object(m.jsxs)("div",{className:"item__info--details",children:[Object(m.jsxs)("div",{className:"company",children:[Object(m.jsx)("p",{className:"company--name",children:c}),Object(m.jsxs)("div",{className:"company--price",children:["$",a]})]}),Object(m.jsx)("button",{className:"remove",onClick:function(){return i(t)},children:"remove"})]})]}),Object(m.jsxs)("div",{className:"item__amount",children:[Object(m.jsx)(f.b,{onClick:function(){return o(t,"INC__AMOUNT")}}),Object(m.jsx)("p",{className:"amount",children:r}),Object(m.jsx)(f.a,{onClick:function(){return o(t,"DEC__AMOUNT")}})]})]},t)},y=function(){var e=_(),t=e.total,c=e.cart,a=e.clearCart,n=e.loading;return console.log(n),n?Object(m.jsx)("h1",{className:"ui text loader active ",children:"Loading...."}):Object(m.jsxs)("section",{className:"cart",children:[Object(m.jsx)("div",{className:"cart__header",children:Object(m.jsx)("h2",{children:"your bag"})}),Object(m.jsx)("div",{className:"cart__list",children:c.map((function(e,t){return Object(m.jsx)(N,Object(d.a)(Object(d.a)({},e),{},{i:t}),e.id)}))}),0!==c.length?Object(m.jsxs)("div",{className:"cart__total",children:[Object(m.jsx)("span",{children:"Total"}),Object(m.jsxs)("span",{className:"total",children:["$",t]})]}):Object(m.jsx)("span",{className:"empty",children:" is currently Empty"}),0!==c.length?Object(m.jsx)("button",{className:"cart__clear",onClick:function(){return a()},children:"clear cart"}):null]})},g=function(){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(v,{}),Object(m.jsx)(y,{})]})};s.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(x,{children:Object(m.jsx)(g,{})})}),document.querySelector("#root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.6d969225.chunk.js.map